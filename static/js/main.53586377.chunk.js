(this["webpackJsonpmovie-tracker"]=this["webpackJsonpmovie-tracker"]||[]).push([[0],{116:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setCurrentUser",(function(){return L})),n.d(r,"setUser",(function(){return q})),n.d(r,"signUp",(function(){return z})),n.d(r,"signIn",(function(){return J})),n.d(r,"signOut",(function(){return M})),n.d(r,"addFriend",(function(){return G})),n.d(r,"removeFriend",(function(){return B})),n.d(r,"addSerial",(function(){return P})),n.d(r,"removeSerial",(function(){return V}));var a={};n.r(a),n.d(a,"searchSerials",(function(){return ee})),n.d(a,"searchUsers",(function(){return te}));var c={};n.r(c),n.d(c,"getSerialbyId",(function(){return ne}));var s=n(2),i=n.n(s),u=n(59),o=n.n(u),l=n(74),d=n(39),j=n(11),b=n(10),f=n(15),p=n(241),m=n(242),O=n(243),v=n(244),h=n(245),x=(n(116),d.c),g=n(44),S=n(0),y=n.n(S),E=n(3),w=n(13),_=n(100),N=n(20),C=n(52),R=n(4),U=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];Object(R.a)(this,e),this.id=void 0,this.name=void 0,this.imageURL=void 0,this.serialIDs=void 0,this.actorIDs=void 0,this.friendIDs=void 0,this.news=void 0,this.id=t,this.name=n,this.imageURL=r,this.serialIDs=a,this.actorIDs=c,this.friendIDs=s,this.news=i},k=Object(_.a)({apiKey:"AIzaSyBUMloGU8stnSbFWe38XJXHj_Eqz-dzRJ8",authDomain:"movie-tracker-ce0ff.firebaseapp.com",projectId:"movie-tracker-ce0ff",messagingSenderId:"1068318498783",appId:"1:1068318498783:web:342f903d978eed52acae6a",measurementId:"G-JCTS9HDTG9",databaseURL:"https://movie-tracker-ce0ff-default-rtdb.europe-west1.firebasedatabase.app"}),I=Object(C.b)(k),F=Object(N.c)(),H=function(){var e=Object(E.a)(y.a.mark((function e(t,n,r,a){var c,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)(I,n,r);case 2:return c=e.sent,s=c.user.uid,i=new U(s,t),localStorage.setItem("user",JSON.stringify(i)),e.next=8,Object(N.f)(Object(N.e)(F,"Users/"+s),i);case 8:Object(N.d)(Object(N.e)(F,"Users/"+s),(function(e){a(e.val())}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(E.a)(y.a.mark((function e(t,n,r){var a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(I,t,n);case 2:return a=e.sent,c=a.user.uid,e.next=6,Object(N.b)(Object(N.a)(Object(N.e)(F),"Users/"+c));case 6:if(s=e.sent,localStorage.setItem("user",JSON.stringify(s)),s.exists()){e.next=10;break}throw Error("User don't esists");case 10:Object(N.d)(Object(N.e)(F,"Users/"+c),(function(e){r(e.val())}));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(E.a)(y.a.mark((function e(){var t,n,r,a,c,s,i,u=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)(Object(N.a)(Object(N.e)(F),"Users/"));case 2:return e.next=4,e.sent.val();case 4:for(t=e.sent,n=[],r=u.length,a=new Array(r),c=0;c<r;c++)a[c]=u[c];s=function(e){var r=t[e];if(a.every((function(e){return e(r)}))&&n.push(r),n.length>=40)return"break"},e.t0=y.a.keys(t);case 9:if((e.t1=e.t0()).done){e.next=16;break}if(i=e.t1.value,"break"!==s(i)){e.next=14;break}return e.abrupt("break",16);case 14:e.next=9;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D={signUp:H,signIn:T,signOut:function(){I.signOut(),localStorage.removeItem("user")},onAuthChanged:function(e){return Object(C.c)(I,e)},addSerial:function(e,t){var n,r=[].concat(Object(w.a)(null!==(n=e.serialIDs)&&void 0!==n?n:[]),[t]);return Object(N.g)(Object(N.e)(F,"Users/"+e.id),{serialIDs:r})},removeSerial:function(e,t){var n=e.serialIDs.filter((function(e){return e!==t}));return Object(N.g)(Object(N.e)(F,"Users/"+e.id),{serialIDs:n})},searchUsers:A,addFriend:function(e,t){var n,r=[].concat(Object(w.a)(null!==(n=e.friendIDs)&&void 0!==n?n:[]),[t]);return Object(N.g)(Object(N.e)(F,"Users/"+e.id),{friendIDs:r})},removeFriend:function(e,t){var n=e.friendIDs.filter((function(e){return e!==t}));return Object(N.g)(Object(N.e)(F,"Users/"+e.id),{friendIDs:n})}},L=function(e){return function(){var t=Object(E.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"FETCH_CURRENT_USER_SUCCESS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(E.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"FETCH_USER_SUCCESS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){var t=e.name,n=e.email,r=e.password;return function(){var e=Object(E.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"FETCH_USER"}),e.next=4,D.signUp(t,n,r,(function(e){a({type:"FETCH_USER_SUCCESS",payload:e})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a({type:"FETCH_USER_ERROR",payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},J=function(e){var t=e.email,n=e.password;return function(){var e=Object(E.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"FETCH_USER"}),e.next=4,D.signIn(t,n,(function(e){r({type:"FETCH_USER_SUCCESS",payload:e})}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:"FETCH_USER_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},M=function(){return function(){var e=Object(E.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"FORGET_USER"}),e.next=4,D.signOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"FETCH_USER_ERROR",payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e,t){return Object(E.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.addFriend(e,t);case 2:case"end":return n.stop()}}),n)})))},B=function(e,t){return Object(E.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.removeFriend(e,t);case 2:case"end":return n.stop()}}),n)})))},P=function(e,t){return Object(E.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.addSerial(e,t);case 2:case"end":return n.stop()}}),n)})))},V=function(e,t){return Object(E.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.removeSerial(e,t);case 2:case"end":return n.stop()}}),n)})))},W="https://api.tvmaze.com/shows/",X="https://api.tvmaze.com/shows?page=",K=40;function Q(){return Q=Object(E.a)(y.a.mark((function e(){var t,n,r,a,c,s,i=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];a=[],c=0;case 3:if(!(c<230&&a.length!==K)){e.next=14;break}return e.next=6,fetch(X+c);case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent.every((function(e){return n.every((function(t){return t(e)}))&&a.push(e),a.length!==K}));case 11:c++,e.next=3;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Y(){return(Y=Object(E.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z={searchSeries:function(){return Q.apply(this,arguments)},getSerialById:function(e){return Y.apply(this,arguments)}},$=Z,ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=Object(E.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"SEARCH"}),e.next=4,$.searchSeries.apply($,t);case 4:r=e.sent,n({type:"SEARCH_SERIALS_SUCCESS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"SEARCH_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},te=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=Object(E.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"SEARCH"}),e.next=4,D.searchUsers.apply(D,t);case 4:r=e.sent,n({type:"SEARCH_USERS_SUCCESS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"SEARCH_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(E.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"FETCH_SERIAL"}),t.next=4,$.getSerialById(e);case 4:r=t.sent,n({type:"FETCH_SERIAL_SUCCESS",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:"FETCH_SERIAL_ERROR",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},re=Object(b.a)(Object(b.a)(Object(b.a)({},r),a),c),ae=function(){var e=Object(d.b)();return Object(g.b)(re,e)},ce=n(7),se=["children","className"],ie=function(e){e.children;var t=e.className,n=Object(f.a)(e,se),r=Object(j.f)(),a=x((function(e){return e.user})).user;return t="main-bar d-flex justify-content-evenly align-items-center "+t,Object(ce.jsxs)("div",Object(b.a)(Object(b.a)({className:t},n),{},{children:[a?Object(ce.jsx)(p.a,{color:"white",size:32,onClick:function(){return r.push("/news")}}):null,Object(ce.jsx)(m.a,{color:"white",size:32,onClick:function(){return r.push("/series")}}),Object(ce.jsx)(O.a,{color:"white",size:32,onClick:function(){return r.push("/users")}}),a?Object(ce.jsx)(v.a,{color:"white",size:32,onClick:function(){return r.push("/users/"+(null===a||void 0===a?void 0:a.id))}}):Object(ce.jsx)(h.a,{color:"white",size:32,onClick:function(){return r.push("/sign-in")}})]}))},ue=function(){return Object(ce.jsx)("h1",{children:"News page"})},oe=n(22),le=(n(121),["by","selected","setSelected","className"]),de=function(e){var t=e.by,n=e.selected,r=e.setSelected,a=e.className,c=Object(f.a)(e,le),i=Object(s.useCallback)((function(e){var t=e.target.innerText;n.includes(t)?r(n.filter((function(e){return e!==t}))):r([].concat(Object(w.a)(n),[t]))}),[n]),u=t.map((function(e){var t=n.includes(e)?"filter__item filter__item_selected":"filter__item";return Object(ce.jsx)("div",{className:t,onClick:i,children:Object(ce.jsx)("span",{children:e})})}));return a="filter "+a,Object(ce.jsx)("div",Object(b.a)(Object(b.a)({className:a},c),{},{children:u}))},je=(n(122),["name","error","placeholder","className"]),be=function(e){var t=e.name,n=e.error,r=e.placeholder,a=e.className,c=Object(f.a)(e,je);return a="search "+a,a+=n?" error":"",r=r||t,Object(ce.jsxs)("label",{className:"search-wrapper",children:[Object(ce.jsx)("input",Object(b.a)({className:a,id:"search__"+t,name:t,placeholder:r},c)),Object(ce.jsx)("p",{className:"search__error-text",children:n})]})},fe=(n(123),["id","name","image","genres","rating","className"]),pe=function(e){var t,n=e.id,r=e.name,a=e.image,c=e.genres,s=e.rating,i=e.className,u=Object(f.a)(e,fe),o=Object(j.f)(),l=(Object(d.b)(),x((function(e){return e.user})).user,ae().addSerial,s?Object(ce.jsx)("span",{className:"rating",children:s}):null);return a=null!==(t=a)&&void 0!==t?t:"https://en.islcollective.com/preview/201506/f/what-a-film-without-popcorn-information-gap-activities-reading-comprehension-e_80462_1.jpg",Object(ce.jsxs)("div",Object(b.a)(Object(b.a)({className:"serial-card "+i,onClick:function(){o.push("/series/"+n)}},u),{},{children:[Object(ce.jsx)("img",{src:a,alt:a}),l,Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h6",{children:r}),Object(ce.jsx)("p",{children:c.join(", ")})]})]}))},me=function(e){return function(t){var n=t.name.toLowerCase(),r=e.toLowerCase();return n.startsWith(r)||n.includes(r)}},Oe=function(e){return function(t){var n=t.genres.map((function(e){return e.toLowerCase()})),r=e.map((function(e){return e.toLowerCase()}));return n.some((function(e){return r.includes(e)}))||0===r.length}},ve=(n(124),["filters","className"]),he=function(e){var t=e.filters,n=void 0===t?[]:t,r=e.className,a=(Object(f.a)(e,ve),Object(s.useState)("")),c=Object(oe.a)(a,2),i=c[0],u=c[1],o=Object(s.useState)([]),l=Object(oe.a)(o,2),d=l[0],j=l[1],b=x((function(e){return e.search})).series,p=ae().searchSerials;Object(s.useEffect)((function(){p.apply(void 0,[me(i),Oe(d)].concat(Object(w.a)(n)))}),[i,d].concat(Object(w.a)(n)));return r="series-list "+r,console.log("1"),Object(ce.jsxs)("div",{className:r,children:[Object(ce.jsx)(be,{name:"film-search",onChange:function(e){var t=e.target.value;u(t)}}),Object(ce.jsx)(de,{by:["Drama","Comedy","Romance","Science-Fiction","Thriller","Crime","Action","Fantasy","Horror","Adventure","Anime","Family","Mystery","Music"],selected:d,setSelected:j}),Object(ce.jsx)("div",{className:"series-list__container",children:b.map((function(e){var t;return Object(ce.jsx)(pe,{id:e.id,name:e.name,image:null===(t=e.image)||void 0===t?void 0:t.medium,genres:e.genres,rating:e.rating.average})}))})]})},xe=(n(125),function(){return Object(ce.jsx)("div",{className:"search-page",children:Object(ce.jsx)(he,{})})}),ge=(n(126),["label","btnType","size","className"]),Se=function(e){var t=e.label,n=void 0===t?"button":t,r=e.btnType,a=void 0===r?"primary":r,c=e.size,s=void 0===c?"medium":c,i=e.className,u=void 0===i?"":i,o=Object(f.a)(e,ge);return u="button button--".concat(a," button--").concat(s," ")+u,Object(ce.jsx)("button",Object(b.a)(Object(b.a)({className:u},o),{},{children:n}))},ye=(n(127),["user","className"]),Ee=function(e){var t,n,r=e.user,a=e.className,c=Object(f.a)(e,ye),s=x((function(e){return e.user})).user,i=ae(),u=i.addFriend,o=i.removeFriend,l=i.signOut,d=Object(j.f)(),p=r,m=p.id,O=p.name,v=p.imageURL,h=null!==(t=null===s||void 0===s||null===(n=s.friendIDs)||void 0===n?void 0:n.includes(m))&&void 0!==t&&t,g=(null===s||void 0===s?void 0:s.id)===(null===r||void 0===r?void 0:r.id);return a="user-card "+a,Object(ce.jsxs)("div",Object(b.a)(Object(b.a)({className:a,onClick:function(e){d.push("/users/"+m)}},c),{},{children:[Object(ce.jsx)("img",{src:null!==v&&void 0!==v?v:"https://m.poisk.vid.ru/img/icons/no_avatar.jpg",alt:O}),Object(ce.jsx)("h6",{children:O}),g?Object(ce.jsx)(Se,{className:"user-card__btn",label:"SIGN OUT",onClick:function(){l(),d.push("/sign-in")}}):Object(ce.jsx)(Se,{className:"user-card__btn",label:h?"unsubscribe":"subscribe",onClick:function(e){e.stopPropagation(),s||d.push("/sign-in"),null!==s&&null!==r&&(h?o(s,r.id):u(s,r.id))}})]}))},we=(n(128),["filters","className"]),_e=function(e){var t=e.filters,n=void 0===t?[]:t,r=e.className,a=Object(f.a)(e,we),c=x((function(e){return e.search})).users,i=ae().searchUsers;Object(s.useEffect)((function(){i.apply(void 0,Object(w.a)(n))}),[]);return r="user-list "+r,Object(ce.jsxs)("div",Object(b.a)(Object(b.a)({className:r},a),{},{children:[Object(ce.jsx)(be,{name:"user-searche",onChange:function(e){var t=e.target.value;i.apply(void 0,[me(t)].concat(Object(w.a)(n)))}}),c.map((function(e){return Object(ce.jsx)(Ee,{user:e})}))]}))},Ne=(n(129),function(){var e=Object(j.g)().pathname,t=Object(s.useState)((function(e){return!0})),n=Object(oe.a)(t,2),r=n[0];n[1];return Object(s.useEffect)((function(){if(e.includes("friends"))e.split("/").slice(-1)[0]}),[e]),Object(ce.jsx)("div",{className:"search-user-page",children:Object(ce.jsx)(_e,{filters:[r]})})}),Ce=(n(130),["serial","className"]),Re=function(e){var t,n=e.serial,r=e.className,a=(Object(f.a)(e,Ce),x((function(e){return e.user})).user),c=ae(),s=(c.addSerial,c.removeSerial),i=Object(j.f)(),u=(null===a||void 0===a||null===(t=a.serialIDs)||void 0===t?void 0:t.includes(null===n||void 0===n?void 0:n.id))||!1;return r="serial-layout "+r,Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("img",{className:"serial-layout__background",src:null===n||void 0===n?void 0:n.image.original,alt:null===n||void 0===n?void 0:n.name}),Object(ce.jsxs)("div",{className:r,children:[Object(ce.jsxs)("div",{className:"serial-layout__image-block",children:[Object(ce.jsx)("img",{src:null===n||void 0===n?void 0:n.image.original}),Object(ce.jsxs)("div",{className:"serial-layout__buttons",children:[u?Object(ce.jsx)(Se,{label:"unlike",onClick:function(){return s(a,null===n||void 0===n?void 0:n.id)}}):Object(ce.jsx)(Se,{label:"like",onClick:function(){a?s(a,null===n||void 0===n?void 0:n.id):i.push("/sign-in")}}),Object(ce.jsx)(Se,{label:"share"})]})]}),Object(ce.jsxs)("div",{className:"serial-layout__text-block",children:[Object(ce.jsx)("h2",{className:"serial-layout__title",children:null===n||void 0===n?void 0:n.name}),Object(ce.jsx)("p",{className:"serial-layout__genres",children:null===n||void 0===n?void 0:n.genres.join(", ")}),Object(ce.jsx)("p",{dangerouslySetInnerHTML:{__html:(null===n||void 0===n?void 0:n.summary)||""}})]})]})]})},Ue=function(){var e=x((function(e){return e.serial})),t=e.serial,n=e.loading,r=ae().getSerialbyId,a=Object(j.g)().pathname;return Object(s.useEffect)((function(){var e=a.split("/").slice(-1)[0];r(parseInt(e))}),[a]),Object(ce.jsx)("div",{className:"serial-page",children:n?Object(ce.jsx)("p",{children:"loading..."}):Object(ce.jsx)(Re,{serial:t})})},ke=n(29),Ie=(n(131),["name","error","placeholder","className"]),Fe=function(e){var t=e.name,n=e.error,r=e.placeholder,a=e.className,c=Object(f.a)(e,Ie);return a="input "+a,a+=n?" error":"",r=r||t,Object(ce.jsxs)("label",{className:"input-wrapper",children:[Object(ce.jsx)("input",Object(b.a)({className:a,id:"input__"+t,name:t,placeholder:r},c)),Object(ce.jsx)("p",{className:"input__error-text",children:n})]})},He=n(33),Te=He.a({name:He.c().min(2).required("Email is required"),email:He.c().email("Must be a valid email").max(255).required("Email is required"),password:He.c().min(8).required("Password is required"),password2:He.c().oneOf([He.b("password")],"Passwords must match").required("Confirm password")}),Ae=He.a({email:He.c().email("Must be a valid email").max(255).required("Email is required"),password:He.c().min(8).required("Password is required")}),De=(n(230),["label","className"]),Le=function(e){var t=e.label,n=e.className;Object(f.a)(e,De);return n="title "+n,Object(ce.jsxs)("p",{className:n,children:["  ",t," "]})},qe=(n(231),["label","className"]),ze=function(e){var t=e.label,n=e.className;Object(f.a)(e,qe);return n="text "+n,Object(ce.jsxs)("p",{className:n,children:["  ",t," "]})},Je=(n(232),["onFormSubmit","className"]),Me=function(e){var t=e.onFormSubmit,n=e.className,r=Object(f.a)(e,Je);return n="sign-in-form "+n,Object(ce.jsx)("div",Object(b.a)(Object(b.a)({className:n},r),{},{children:Object(ce.jsx)(ke.c,{initialValues:{email:"",password:""},validationSchema:Ae,onSubmit:t,children:Object(ce.jsxs)(ke.b,{children:[Object(ce.jsx)(Le,{label:"Sign in",className:"mb-2"}),Object(ce.jsx)(ze,{label:"Use the information you entered during the registration to enter your account.",className:"mb-4"}),Object(ce.jsx)(ke.a,{name:"email",type:"email",className:"w-100 mb-2",as:Fe}),Object(ce.jsx)(ke.a,{name:"password",type:"text",className:"w-100 mb-4",as:Fe}),Object(ce.jsx)(Se,{type:"submit",label:"Sign Up",className:"w-100"})]})})}))},Ge=(n(233),function(){var e=Object(j.f)(),t=x((function(e){return e.user})),n=t.user,r=(t.loading,t.error),a=ae().signIn;return Object(s.useEffect)((function(){n&&e.push("/users/"+n.id)}),[n]),r&&console.log(r),Object(ce.jsx)("div",{className:"sign-in-page",children:Object(ce.jsx)(Me,{onFormSubmit:a})})}),Be=(n(234),["onFormSubmit","className"]),Pe=function(e){var t=e.onFormSubmit,n=e.className,r=Object(f.a)(e,Be);return n="sign-up-form "+n,Object(ce.jsx)("div",Object(b.a)(Object(b.a)({className:n},r),{},{children:Object(ce.jsx)(ke.c,{initialValues:{name:"",email:"",password:"",password2:""},validationSchema:Te,onSubmit:t,children:Object(ce.jsxs)(ke.b,{children:[Object(ce.jsx)(Le,{label:"Sign up",className:"mb-2"}),Object(ce.jsx)(ze,{label:"Fill in the fields to create your account.",className:"mb-4"}),Object(ce.jsx)(ke.a,{name:"name",type:"text",className:"w-100 mb-2",as:Fe}),Object(ce.jsx)(ke.a,{name:"email",type:"email",className:"w-100 mb-2",as:Fe}),Object(ce.jsx)(ke.a,{name:"password",type:"text",className:"w-100 mb-2",as:Fe}),Object(ce.jsx)(ke.a,{name:"password2",type:"text",className:"w-100 mb-4",as:Fe}),Object(ce.jsx)(Se,{type:"submit",label:"Sign Up",className:"w-100"})]})})}))},Ve=(n(235),function(){var e=Object(j.f)(),t=x((function(e){return e.user})),n=t.user,r=t.error,a=t.loading,c=ae().signUp;return Object(s.useEffect)((function(){n&&e.push("/users/"+n.id)}),[n]),r&&console.log(r),Object(ce.jsx)("div",{className:"sign-up-page",children:a?Object(ce.jsx)("p",{children:"loading"}):Object(ce.jsx)(Pe,{onFormSubmit:c})})}),We=(n(236),["user","className"]),Xe=function(e){var t=e.user,n=e.className,r=Object(f.a)(e,We);ae().signOut;return n="user-account "+n,Object(ce.jsx)("div",Object(b.a)(Object(b.a)({className:n},r),{},{children:Object(ce.jsx)(Ee,{user:t})}))},Ke=(n(237),function(){var e=Object(j.g)().pathname,t=ae().searchUsers,n=x((function(e){return e.search})),r=n.users,a=n.loading,c=x((function(e){return e.user})).user;return console.log(c),Object(s.useEffect)((function(){console.log("useeffect");var n=e.split("/").slice(-1)[0];console.log("lol"+n),t((function(e){return e.id===n}))}),[e]),console.log(a),Object(ce.jsx)("div",{className:"user-page",children:a?Object(ce.jsx)("p",{children:"loading"}):Object(ce.jsx)(Xe,{user:r[0]})})});var Qe=function(){var e=x((function(e){return e.user})).user,t=ae().setUser;return Object(s.useEffect)((function(){var e=localStorage.getItem("user");e&&t(JSON.parse(e))}),[]),Object(ce.jsxs)(j.c,{children:[Object(ce.jsx)(j.a,{exact:!0,path:"/sign-up",component:Ve}),Object(ce.jsx)(j.a,{exact:!0,path:"/sign-in",component:Ge}),Object(ce.jsxs)(j.a,{path:"/",children:[e?Object(ce.jsx)(j.a,{path:"/news",component:ue}):null,Object(ce.jsx)(j.a,{exact:!0,path:"/users",component:Ne}),Object(ce.jsx)(j.a,{exact:!0,path:"/series",component:xe}),Object(ce.jsx)(j.a,{exact:!0,path:"/series/:id",component:Ue}),Object(ce.jsx)(j.a,{exact:!0,path:"/users/:id",component:Ke}),Object(ce.jsx)(j.a,{exact:!0,path:"/friends/:id",component:Ne}),Object(ce.jsx)(ie,{})]})]})},Ye=(n(238),n(108)),Ze={serial:null,loading:!0,error:null},$e={series:[],actors:null,users:[],loading:!0,error:null},et={user:null,currentUser:null,error:null,loading:!0},tt=Object(g.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,user:null});case"FETCH_USER_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,user:t.payload});case"FETCH_CURRENT_USER_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,currentUser:t.payload});case"FETCH_USER_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case"FORGET_USER":return Object(b.a)(Object(b.a)({},e),{},{user:null,loading:!1});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case"SEARCH_SERIALS_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{series:t.payload,loading:!1});case"SEARCH_USERS_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{users:t.payload,loading:!1});case"SEARCH_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:!0});default:return e}},serial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SERIAL":return{serial:null,loading:!0,error:null};case"FETCH_SERIAL_SUCCESS":return{serial:t.payload,loading:!1,error:null};case"FETCH_SERIAL_ERROR":return{serial:null,loading:!1,error:t.payload};default:return e}}}),nt=tt,rt=Object(g.d)(nt,Object(g.a)(Ye.a));o.a.render(Object(ce.jsx)(i.a.StrictMode,{children:Object(ce.jsx)(d.a,{store:rt,children:Object(ce.jsx)(l.a,{children:Object(ce.jsx)(Qe,{})})})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.53586377.chunk.js.map